import { HmacSHA256 } from 'crypto-js';
import { availableFonts } from './font';
export function getCanvas2dRender(seed) {
    const canvas = document.createElement('canvas');
    canvas.width = 200;
    canvas.height = 50;
    const text = 'seed-fingerprint';
    const ctx = canvas.getContext('2d');
    const hash = HmacSHA256(text, seed).toString();
    if (ctx === null) {
        return null;
    }
    const v1 = { x: 0, y: 0 };
    const v2 = { x: 200, y: 25 };
    const v3 = { x: 0, y: 50 };
    ctx.beginPath();
    ctx.moveTo(v1.x, v1.y);
    ctx.lineTo(v2.x, v2.y);
    ctx.lineTo(v3.x, v3.y);
    ctx.closePath();
    ctx.fillStyle = '#999';
    ctx.fill();
    // emoji 
    const font = availableFonts().join(', ');
    ctx.font = `21.5px ${font}`;
    ctx.fillText('üç∞', 3, 33);
    // seed
    ctx.font = `8px ${font}`;
    ctx.fillStyle = 'rgba(0,0,0,0.9)';
    ctx.fillText(hash.substr(0, 32), 40, 25);
    ctx.fillText(hash.substr(32, 32), 40, 33);
    // header
    ctx.font = `bold 25px ${font}`;
    const textGradient = ctx.createLinearGradient(0, 0, canvas.width, canvas.height);
    textGradient.addColorStop(0, '#ef007c');
    textGradient.addColorStop(1.0, '#0075c8');
    // ctx.lineWidth = 2;
    // ctx.strokeStyle = 'white';
    // ctx.strokeText(text, 40, 33);
    ctx.globalCompositeOperation = 'lighter';
    ctx.fillStyle = textGradient;
    ctx.fillText(text, 5, 33);
    return canvas.toDataURL();
}
export async function component(seed) {
    return {
        canvas2dRender: getCanvas2dRender(seed)
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FudmFzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvY2FudmFzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxXQUFXLENBQUM7QUFFdkMsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUV4QyxNQUFNLFVBQVUsaUJBQWlCLENBQUMsSUFBWTtJQUMxQyxNQUFNLE1BQU0sR0FBRyxRQUFRLENBQUMsYUFBYSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ2hELE1BQU0sQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDO0lBQ25CLE1BQU0sQ0FBQyxNQUFNLEdBQUcsRUFBRSxDQUFDO0lBRW5CLE1BQU0sSUFBSSxHQUFJLGtCQUFrQixDQUFDO0lBQ2pDLE1BQU0sR0FBRyxHQUFLLE1BQU0sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEMsTUFBTSxJQUFJLEdBQVcsVUFBVSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUV2RCxJQUFJLEdBQUcsS0FBSyxJQUFJLEVBQUU7UUFDZCxPQUFPLElBQUksQ0FBQztLQUNmO0lBRUQsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQztJQUMxQixNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDO0lBQzdCLE1BQU0sRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7SUFFM0IsR0FBRyxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQ2hCLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2QixHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3ZCLEdBQUcsQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUVoQixHQUFHLENBQUMsU0FBUyxHQUFHLE1BQU0sQ0FBQztJQUN2QixHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7SUFFWCxTQUFTO0lBQ1QsTUFBTSxJQUFJLEdBQUcsY0FBYyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3pDLEdBQUcsQ0FBQyxJQUFJLEdBQUcsVUFBVSxJQUFJLEVBQUUsQ0FBQztJQUM1QixHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFMUIsT0FBTztJQUNQLEdBQUcsQ0FBQyxJQUFJLEdBQUcsT0FBTyxJQUFJLEVBQUUsQ0FBQztJQUN6QixHQUFHLENBQUMsU0FBUyxHQUFHLGlCQUFpQixDQUFDO0lBQ2xDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFBO0lBQ3hDLEdBQUcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRTFDLFNBQVM7SUFDVCxHQUFHLENBQUMsSUFBSSxHQUFHLGFBQWEsSUFBSSxFQUFFLENBQUM7SUFDL0IsTUFBTSxZQUFZLEdBQUcsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsTUFBTSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakYsWUFBWSxDQUFDLFlBQVksQ0FBQyxDQUFDLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFDeEMsWUFBWSxDQUFDLFlBQVksQ0FBQyxHQUFHLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFFMUMscUJBQXFCO0lBQ3JCLDZCQUE2QjtJQUM3QixnQ0FBZ0M7SUFFaEMsR0FBRyxDQUFDLHdCQUF3QixHQUFHLFNBQVMsQ0FBQztJQUN6QyxHQUFHLENBQUMsU0FBUyxHQUFHLFlBQVksQ0FBQztJQUM3QixHQUFHLENBQUMsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7SUFFMUIsT0FBTyxNQUFNLENBQUMsU0FBUyxFQUFFLENBQUM7QUFDOUIsQ0FBQztBQUVELE1BQU0sQ0FBQyxLQUFLLFVBQVUsU0FBUyxDQUFDLElBQVk7SUFDeEMsT0FBTztRQUNILGNBQWMsRUFBRSxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7S0FDMUMsQ0FBQztBQUNOLENBQUMifQ==